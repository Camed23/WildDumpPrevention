{% extends "layout.html" %}
{% block content %}

<section class="annotate-confirmation-section text-center">
    <div class="container">
        <h1>Confirmation de l'enregistrement</h1>
        <p>Votre image et vos informations ont √©t√© enregistr√©es avec succ√®s.</p>

        <div class="row mt-4">
            <div class="col-md-6 text-start">
                <h4>R√©capitulatif :</h4>
                <ul class="list-unstyled">
                    <li><strong> Lieu :</strong> {{ image_info.location or 'Non renseign√©' }}</li>
                    <li><strong> Date :</strong> {{ image_info.date or 'Non renseign√©e' }}</li>
                    <li><strong> Heure :</strong> {{ image_info.time or 'Non renseign√©e' }}</li>
                    <li><strong> Remarques :</strong> {{ image_info.notes or 'Aucune' }}</li>
                    <li><strong> √âtat choisi :</strong> {{ image_info.choice or 'Non pr√©cis√©' }}</li>
                    {% if image_info.choice == 'IA' %}
                    <li><strong> Pr√©diction IA :</strong> {{ image_info.prediction }}</li>
                    {% endif %}
                </ul>

                <h4>Caract√©ristiques de l'image :</h4>
                <ul class="list-unstyled">
                    <li><strong>Taille :</strong> {{ image_info.file_size_kb }} Ko</li>
                    <li><strong>Dimensions :</strong> {{ image_info.dimensions }}</li>
                    <li><strong>Moyenne Rouge :</strong> {{ image_info.avg_r }}</li>
                    <li><strong>Moyenne Vert :</strong> {{ image_info.avg_g }}</li>
                    <li><strong>Moyenne Bleu :</strong> {{ image_info.avg_b }}</li>
                    <li><strong>Contraste :</strong> {{ image_info.contrast }}</li>
                </ul>


                <h5>Merci pour votre participation üôè</h5>
                <p>Vous contribuez √† am√©liorer la d√©tection automatique des d√©p√¥ts sauvages.</p>

                <a href="{{ url_for('upload') }}" class="btn btn-dark mt-3">T√©l√©verser une nouvelle image</a>
            </div>

            <div class="col-md-6 text-center">
                {% if image_info.image_url %}
                     <img src="{{ image_info.image_url }}" alt="Aper√ßu de l'image t√©l√©vers√©e" class="img-fluid rounded shadow">
                {% else %}
                    <div class="alert alert-warning mt-3">
                    Aucun aper√ßu d'image disponible. Veuillez r√©essayer l'upload si n√©cessaire.
                    </div>
                {% endif %}

            </div>
        </div>
    </div>
</section>

<style>
.annotate-confirmation-section {
    padding: 60px 20px;
    background-color: #f8f9fa;
}

.annotate-confirmation-section h1 {
    font-weight: bold;
    margin-bottom: 20px;
}

.annotate-confirmation-section ul li {
    margin-bottom: 8px;
    font-size: 1rem;
}

.annotate-confirmation-section .btn-dark {
    padding: 10px 20px;
    font-size: 1rem;
}

.annotate-confirmation-section img {
    max-width: 100%;
    border-radius: 10px;
    margin-top: 10px;
}
</style>

{% endblock %}
